<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>encoding</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #ffffff;
      color: #434343;
      line-height: 1.5;
    }
    .header {
      background-color: #ffffff;
      padding: 30px 20px 10px 20px;
      text-align: center;
    }
    .header img {
      max-width: 360px;
      height: auto;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 0 20px;
    }
    .section-title {
      color: #fe0032;
      font-size: 1.15em;
      font-weight: 700;
      margin-bottom: 15px;
      text-transform: lowercase;
    }
    select {
      width: 250px;
      padding: 12px 16px;
      font-size: 15px;
      font-family: 'Roboto', sans-serif;
      border: 1px solid #434343;
      border-radius: 8px;
      background-color: #ffffff;
      color: #434343;
      margin-bottom: 8px;
      height: 52px;
      box-sizing: border-box;
    }
    select:focus {
      outline: none;
      border-color: #fe0032;
    }
    textarea {
      width: 100%;
      height: 200px;
      padding: 12px;
      border: 1px solid #434343;
      border-radius: 8px;
      font-family: monospace;
      font-size: 0.9em;
      color: #434343;
      background-color: #ffffff;
      margin-bottom: 24px;
      margin-top: 8px;
      line-height: 1.8;
    }
    textarea:focus {
      outline: none;
      border-color: #fe0032;
    }
.button-group {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        button {
            padding: 10px 16px;
            font-family: 'Roboto', sans-serif;
            font-size: 13px;
            font-weight: 400;
            text-transform: lowercase;
            background-color: #ffffff;
            color: #434343;
            border: 1px solid #434343;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        button:hover {
            border-color: #fe0032;
        }
        button:active {
            transform: scale(0.98);
        }

    .toast {
      position: fixed;
      top: 80px;
      left: 50%;
      transform: translateX(-50%) scale(0.9);
      background-color: #fe0032;
      color: #ffffff;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
      z-index: 1000;
    }
    .toast.show {
      opacity: 1;
      transform: translateX(-50%) scale(1);
    }
    .spacer {
      height: 100px;
    }
     nav {
        padding: 20px;
        text-align: right;
    }

    nav a {
        color: #999;
        text-decoration: none;
        margin-left: 30px;
        font-size: 0.95em;
    }

    nav a:hover {
        color: #333;
    }

  </style>
</head>
<body>
      <nav>
        <a href="https://chomp.ltd">home</a>
        <a href="https://tools.chomp.ltd">tools</a>
    </nav>
  <div class="header">
    <img src="https://raw.githubusercontent.com/chomp-chomp-pachewy/chomp-chomp/refs/heads/main/encoding.jpg" alt="encoding">
  </div>

  <div class="container">
    <div class="section-title">select encoding type</div>
<select id="encodeType">
  <option value="">select encoding type...</option>
  <option value="encodeURI">encode URI</option>
  <option value="decodeURI">decode URI</option>
  <option value="base64Encode">base64 encode</option>
  <option value="base64Decode">base64 decode</option>
  <option value="hexEncode">hex encode</option>
  <option value="hexDecode">hex decode</option>
  <option value="binaryEncode">binary encode</option>
  <option value="binaryDecode">binary decode</option>
  <option value="md5Hash">MD5 hash</option>
  <option value="sha256Hash">SHA-256 hash</option>
</select>

<textarea id="input" placeholder="enter text here..."></textarea>

<div class="button-group">
  <button onclick="processEncode()">go</button>
</div>

<textarea id="output" placeholder="output will appear here..." readonly></textarea>

<div class="button-group">
  <button onclick="clearFields()">clear</button>
  <button onclick="copyOutput()">copy output</button>
</div>

<div class="toast" id="toast">copied to clipboard!</div>

  </div>

  <div class="spacer"></div>

  <script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');
    const toast = document.getElementById('toast');
    const encodeType = document.getElementById('encodeType');

    function processEncode() {
      const selectedType = encodeType.value;
      if (!selectedType) return;

      const functions = {
        'encodeURI': encodeURIComp,
        'decodeURI': decodeURIComp,
        'base64Encode': base64Encode,
        'base64Decode': base64Decode,
        'hexEncode': hexEncode,
        'hexDecode': hexDecode,
        'binaryEncode': binaryEncode,
        'binaryDecode': binaryDecode,
        'md5Hash': md5Hash,
        'sha256Hash': sha256Hash
      };

      if (functions[selectedType]) {
        functions[selectedType]();
      }
    }

    function encodeURIComp() {
      try {
        output.value = encodeURIComponent(input.value);
      } catch (e) {
        output.value = 'Error encoding text';
      }
    }

    function decodeURIComp() {
      try {
        output.value = decodeURIComponent(input.value);
      } catch (e) {
        output.value = 'Error decoding text';
      }
    }

    function base64Encode() {
      try {
        output.value = btoa(input.value);
      } catch (e) {
        output.value = 'Error encoding Base64';
      }
    }

    function base64Decode() {
      try {
        output.value = atob(input.value);
      } catch (e) {
        output.value = 'Error decoding Base64';
      }
    }

    function htmlEscape() {
      output.value = input.value
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/\"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    function htmlUnescape() {
      output.value = input.value
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .replace(/&quot;/g, '"')
        .replace(/&#39;/g, "'")
        .replace(/&amp;/g, '&');
    }

    function htmlUnescape() {
      output.value = input.value
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .replace(/&quot;/g, '"')
        .replace(/&#39;/g, "'")
        .replace(/&amp;/g, '&');
    }

    function hexEncode() {
      try {
        output.value = Array.from(input.value)
          .map(char => char.charCodeAt(0).toString(16).padStart(2, '0'))
          .join('');
      } catch (e) {
        output.value = 'Error encoding to hex';
      }
    }

    function hexDecode() {
      try {
        const hex = input.value.replace(/\s/g, '');
        if (hex.length % 2 !== 0) {
          output.value = 'Invalid hex string (odd length)';
          return;
        }
        output.value = hex.match(/.{1,2}/g)
          .map(byte => String.fromCharCode(parseInt(byte, 16)))
          .join('');
      } catch (e) {
        output.value = 'Error decoding hex';
      }
    }

    function binaryEncode() {
      try {
        output.value = Array.from(input.value)
          .map(char => char.charCodeAt(0).toString(2).padStart(8, '0'))
          .join(' ');
      } catch (e) {
        output.value = 'Error encoding to binary';
      }
    }

    function binaryDecode() {
      try {
        const binary = input.value.replace(/\s/g, '');
        if (binary.length % 8 !== 0) {
          output.value = 'Invalid binary string (length must be multiple of 8)';
          return;
        }
        output.value = binary.match(/.{1,8}/g)
          .map(byte => String.fromCharCode(parseInt(byte, 2)))
          .join('');
      } catch (e) {
        output.value = 'Error decoding binary';
      }
    }

    async function md5Hash() {
      try {
        const msgBuffer = new TextEncoder().encode(input.value);
        // MD5 is not available in Web Crypto API, using a simple implementation
        output.value = 'MD5 requires external library - use SHA-256 instead';
      } catch (e) {
        output.value = 'Error generating MD5 hash';
      }
    }

    async function sha256Hash() {
      try {
        const msgBuffer = new TextEncoder().encode(input.value);
        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        output.value = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
      } catch (e) {
        output.value = 'Error generating SHA-256 hash';
      }
    }

    function clearFields() {
      input.value = '';
      output.value = '';
    }

    function copyOutput() {
      navigator.clipboard.writeText(output.value).then(() => {
        showToast();
      });
    }

    function showToast() {
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }
  </script>

</body>
</html>
